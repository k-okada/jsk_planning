<launch>
  <include file="$(find pddl_planner)/demos/2013_fridge_demo/demo_bring_can.launch" />

  <test name="publish_test"
        test-name="smach_container_publish_test"
        pkg="rostest" type="publishtest">
    <rosparam>
      topics:
        - name: /server_name/smach/container_structure
          timeout: 30
          negative: False
    </rosparam>
  </test>

  <test name="structure_test"
        test-name="smach_container_structure_test"
        pkg="pddl_planner" type="structuretest">
    <rosparam>
      topics:
        - name: /server_name/smach/container_structure
          timeout: 10
          children: ['(move-to start frontfridge)', '(open-door)', '(move-to frontfridge pregrasp)', '(grasp-object can)', '(move-to pregrasp start)', '(move-to start somewhere)', '(try-close) ', '(move-recoverly) ', '(move-to frontfridge start)', '(move-recoverly)', '(close-door)', '(move-to preclose start)', '(try-close)']
          container_outcomes: ['goal0']
    </rosparam>
  </test>
</launch>
